webpackJsonp([19038876650510],{"./node_modules/json-loader/index.js!./.cache/json/javascript-30-day-02.json":function(n,a){n.exports={data:{markdownRemark:{html:'<html><head></head><body><div>\n  \n  <a class="gatsby-resp-image-link" href="/static/2e828ed3e0efe1d36d68288643c8ad6c-fa2a1.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 690px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 35.57692307692307%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABtklEQVQoz2WQ30tTYRjHnybIiEN01/Y3xDaKwKwkK7KiC8WgwH5gYRcRCF101UW6VQ4hvGlqddFuhC4SCrIECyoMopgQkl5IwmyTuR3Edc52GPOcT8+ON4kvfHheXp7vh+d9RF55yJTyRZlTljyaVj32rHvssz1a7RrJYomRtSKtZYdmfZessqBklFnlg/LORd4oMlhAEkXkoYkk15GRDST1F0k77J+x+LWSp16vU6vVyJdM2qe0Z9RChrU+0swDzcbXkAH13F9Fdt3KEOxKbad7jODVNK9//MZ1XRrHtm2/ZpZy7L7yguCF0R25wM1ZpKl7knA4TCgU2kE2u+JLHMfBNE3/XiyViEQi2/oa+QbN58Z0wjMTGLFejKgSu47Rchuj7Q7Gibt8/L5IpVLBsiyq1aovXFzOsbfjHsaRfoyDff9lewmceqY7PKrWBseeIicnkK5p5NIn5No32pPzZP/k2Nx0/S9vlMv0pOaRG3NIz1fk7CTS9lyz4+oY3/JINI5EE8iBIeRwCjmeRk6/RDqnCfT95PKTAvH3eRKfC7QMLyAXdU+dM8j5t1sDHHqMxDTve+L8A1pvVZfuLD0hAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Javascript Drum Kit" title="" src="/static/2e828ed3e0efe1d36d68288643c8ad6c-44d6a.png" srcset="/static/2e828ed3e0efe1d36d68288643c8ad6c-f4799.png 173w,\n/static/2e828ed3e0efe1d36d68288643c8ad6c-b3b1d.png 345w,\n/static/2e828ed3e0efe1d36d68288643c8ad6c-44d6a.png 690w,\n/static/2e828ed3e0efe1d36d68288643c8ad6c-bc0f7.png 1035w,\n/static/2e828ed3e0efe1d36d68288643c8ad6c-b50e5.png 1380w,\n/static/2e828ed3e0efe1d36d68288643c8ad6c-0ed32.png 2070w,\n/static/2e828ed3e0efe1d36d68288643c8ad6c-fa2a1.png 2496w" sizes="(max-width: 690px) 100vw, 690px">\n    </span>\n  </span>\n  \n  </a>\n    \n</div></body></html>\n<p>This is the second part of the Javascript 30 series I\'ve been posting. #JavaScript30 is a challenge by Wes Bos and the idea is to Build 30 things in 30 days with 30 tutorials with Vanilla JS.</p>\n<p>Along this series I\'ll be sharing the approach I took and any interesting stuff I find in order to solve the challenges made by Wes Bos.</p>\n<p>Before we get to it: I\'m a couple of days late with this one, I actually finished the challenge a couple of days ago, but was struggling finding time to write the post, so sorry about the delay!</p>\n<p>Let\'s see what interesting stuff is behind this JS + CSS Clock.</p>\n<h2 id="the-idea"><a href="#the-idea" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The idea</h2>\n<p>The idea is to build a Clock with CSS and animate its hands with JS according the browsers\' time (actually Wes already built the clock we just need to add the functionality).</p>\n<h2 id="the-process"><a href="#the-process" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Process</h2>\n<p>To achieve this we will have to do something along the lines of:</p>\n<p>Get the current date\nGet the seconds, minutes and hour\nCalculate how many degrees the hands should be rotated (based on the time)\nRotate the hands</p>\n<h3 id="getting-the-current-date"><a href="#getting-the-current-date" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting the current Date</h3>\n<p>To get the browser\'s time JS provide us with an object called Date, when instantiated it contains the time at that moment (you can read more about it here).\nIt\'s worth knowing that the time that Date() gets you is based on the Unix Time and prefixing any instance of it with a + (Unary Plus Operator) will actually get you the amount of milliseconds since then.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// Sun Jul 09 2017 01:07:24 GMT-0400 (AST)</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>time<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1499576844919</span>\n</code></pre>\n      </div>\n<h3 id="getting-the-seconds-minutes-and-hour"><a href="#getting-the-seconds-minutes-and-hour" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting the seconds, minutes and hour</h3>\n<p>Once you have an instance of date, getting the seconds, minutes and hour is super simple:</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> seconds <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> minutes <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> hours <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Keep in mind this values will be based on the user\'s time zone, for our current project this is what we want, but in the future you might want to get the UTC values in case you are storing a date to be displayed later (JS provides a set of getters for the UTC values).</p>\n<h3 id="calculating-how-many-degrees-the-hands-should-be-rotated"><a href="#calculating-how-many-degrees-the-hands-should-be-rotated" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Calculating how many degrees the hands should be rotated</h3>\n<p>This one can be the most difficult if you are not used to do maths, but actually it isn\'t that hard. You just need to keep in mind that a circle has 360 degrees and divide that by the amount of seconds in a minute (60), minutes in an hour (60), hours in a day (24, but we will go with 12 because this is an analog clock).</p>\n<p>Seconds: 360/60 = 6 this means we should rotate the hand 6 degrees for each second, so we just multiply the amount of seconds by 6. Also we will have to add 90 degrees because the initial position of the hands is horizontal, so we keep that offset to keep the clock starting at 12 o clock.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> secondsDeg <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>seconds<span class="token operator">*</span><span class="token number">6</span> <span class="token operator">+</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Minutes: we will use the same logic we applied before but we will also add the seconds that have passed for the current minute (hence the seconds/60).</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> minutesDeg <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>minutes <span class="token operator">+</span> <span class="token punctuation">(</span>seconds<span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">6</span> <span class="token operator">+</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Hours: This time we will use the exact same logic we used for the minutes, but we will multiply by 30 as our clock has 12 hours and 360/12 = 30 :</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> hoursDeg <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>hours <span class="token operator">+</span> <span class="token punctuation">(</span>minutes<span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">30</span> <span class="token operator">+</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h3 id="rotating-the-hands"><a href="#rotating-the-hands" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rotating the hands</h3>\n<p>In order to rotate the hands we need to get each element, access its style attribute and set the transform:</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> secondsHand <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".second-hand"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nsecondsHand<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>secondsDeg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg)`</span></span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> minutesHand <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".min-hand"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nminutesHand<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minutesDeg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg)`</span></span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> hoursHand <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".hour-hand"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nhoursHand<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hoursDeg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg)`</span></span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h3 id="one-last-thing"><a href="#one-last-thing" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>One last thing</h3>\n<p>If you look closely to the clock, you\'ll notice some weird stuff every time the seconds hand hits 0s (actually it will happen with any of the hands), this is because you are animating from somewhere around 444 degrees (just before the hands hits the 12) to 90 degrees. In order to avoid this you could just check when the hands are going to rotate to 90 degrees and remove the transition from the element and add it again after rotating the hand.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>secondsDeg <span class="token operator">==</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  secondsHand<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\nsecondsHand<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>secondsDeg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg)`</span></span><span class="token punctuation">;</span>\nsecondsHand<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token template-string"><span class="token string">`transition: transform 0.05s cubic-bezier(0.18, 0.15, 0.61, 2.08);`</span></span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h2 id="code-blooper"><a href="#code-blooper" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Code Blooper!</h2>\n<p>I\'m really sorry, there are no bloopers today.</p>\n<p>That was it for Day 2! See you tomorrow for the next challenge.</p>\n<p>Keep On Hacking!</p>',timeToRead:4,excerpt:"This is the second part of the Javascript 30 series I've been posting. #JavaScript30 is a challenge by Wes Bos and the idea is to Build 3...",frontmatter:{title:"Javascript 30 Day 02",date:"07/09/2017",category:["Javascript","Javascript 30 Challenge"],tags:["js","javascript","challenge","wes","bos","day"]}}},pathContext:{slug:"/javascript-30-day-02"}}}});
//# sourceMappingURL=path---javascript-30-day-02-11512394d948b37a1ddd.js.map