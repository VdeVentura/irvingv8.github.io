<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>{{ page.title }}</title>
	<meta name="viewport" content="width=device-width">
	<meta name="theme-color" content="#0288D1" />
	<!-- Custom CSS -->
	<link rel="stylesheet" href="/css/main.css">
	<link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,100,900' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,400italic,700,700italic,300italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="http://s.mlcdn.co/animate.css">



</head>
<body>
	<input hidden="hidden" type="radio" name="mobile-nav-toggle" id="mobile-nav-expand-checkbox" value="">

	<div class="header">
		<div class="title">
			<a href="#home" data-scroll>{{ site.name }}</a>
		</div>

		<label class="mobile-nav-expand-label" for="mobile-nav-expand-checkbox">
			<div class="mobile-nav-expand"/></div>
		</label>

		<ul class="navigation">
			<!-- <li><a data-scroll href="#home"><div>Home</div></a></li> -->
			<li><a data-scroll href="#about"><div>About</div></a></li>
			<li><a data-scroll href="#education"><div>Education</div></a></li>
			<li><a data-scroll href="#experience"><div>Experience</div></a></li>
			<li><a data-scroll href="#skills"><div>Skills</div></a></li>
			<li><a data-scroll href="#contact"><div>Contact</div></a></li>
		</ul>

	</div>
	<div class="site">

		<ul class="mobile-navigation height-fix">
			<li><a data-scroll href="#home"><div>Home</div></a></li>
			<li><a data-scroll href="#about"><div>About</div></a></li>
			<li><a data-scroll href="#education"><div>Education</div></a></li>
			<li><a data-scroll href="#experience"><div>Experience</div></a></li>
			<li><a data-scroll href="#skills"><div>Skills</div></a></li>
			<li><a data-scroll href="#contact"><div>Contact</div></a></li>
		</ul>
		{{ content }}


		<div class="footer">
			<div class="contact">
				<p>
					Irving Ventura<br />
					Systems Engineer/Web Developer<br />
					irvingv8@gmail.com
				</p>
			</div>
			<div class="contact">
				<p>
					<a href="https://github.com/yourusername">github.com/irvingv8</a><br />
					<a href="https://twitter.com/yourusername">twitter.com/ivringv8</a><br />
				</p>
			</div>
		</div>

		<label class="mobile-nav-collapse-label height-fix" for="mobile-nav-collapse-checkbox">
			<!-- <div class="mobile-nav-collapse"/></div> -->
		</label>

	</div>

	<input hidden="hidden" type="radio" name="mobile-nav-toggle" id="mobile-nav-collapse-checkbox" value="">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/10.0.0/js/smooth-scroll.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

	<script src="https://use.fontawesome.com/2d82758dea.js"></script>
	<script>smoothScroll.init({speed: 1000,easing: 'easeInOutCubic',offset: 60,updateURL: false});</script>

	<script>
	$.fn.extend({
    	animateCss: function (animationName) {
			var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';

			$(this).addClass('animated ' + animationName).one(animationEnd, function() {
            	$(this).removeClass('animated ' + animationName);
        	});
    	}
	});

		var bodyScrolled = function(){

			// console.log('calling bodyScrolled');
			if(($('body').scrollTop() || $('html').scrollTop())> 0)
			{
				$('body').addClass('scrolled');
				// console.log('adding class');
			}
			else {
				$('body').removeClass('scrolled')
				// console.log('removing class');
			}
		}
		var aChildren = $(".navigation li").children(); // find the a children of the list items
	    var aArray = []; // create the empty aArray
	    for (var i=0; i < aChildren.length; i++) {
	        var aChild = aChildren[i];
	        var ahref = $(aChild).attr('href');
	        aArray.push(ahref);
	    } // this for loop fills the aArray with attribute href values

		var activeNavElement = function(){
			bodyScrolled();
	        var windowPos = $(window).scrollTop(); // get the offset of the window from the top of page
	        var windowHeight = $(window).height(); // get the height of the window
	        var docHeight = $(document).height();

	        for (var i=0; i < aArray.length; i++) {
	            var theID = aArray[i];
	            var divPos = $(theID).offset().top; // get the offset of the div from the top of page
	            var divHeight = $(theID).height(); // get the height of the div in question
	            if (windowPos >= divPos-(divHeight*0.4) && windowPos < (divPos + divHeight-60)) {
	                $("a[href='" + theID + "']").addClass("nav-active");
	            } else {
	                $("a[href='" + theID + "']").removeClass("nav-active");
	            }
	        }

	        if(windowPos + windowHeight == docHeight) {
	            if (!$("nav li:last-child a").hasClass("nav-active")) {
	                var navActiveCurrent = $(".nav-active").attr("href");
	                $("a[href='" + navActiveCurrent + "']").removeClass("nav-active");
	                $("nav li:last-child a").addClass("nav-active");
	            }
	        }
	    }

		var bounceCircleButton = function(){
			$(".circle-button").animateCss('bounceInUp');
		}

		// var fixAddressBarBug = function ()
		// {
		// 	if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ){
		// 		var h = $('.height-fix').height();
		// 		$('.height-fix').height(h);
		// 	}
		// }



		$(window).scroll(activeNavElement);
		$(document).ready(function(){
			activeNavElement();
			bounceCircleButton();
			// fixAddressBarBug();
		});

	</script>

</body>
</html>
